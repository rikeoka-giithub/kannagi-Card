<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kannagi Card – Motion FX</title>
<style>
  :root{
    /* 演出タイミング（ここだけ変えれば全体のテンポを調整できます） */
    --enter-dur: 1.35s;   /* 下からねじり入場→着地まで */
    --impact-at: 1.15s;   /* 着地の瞬間（フラッシュ/パーティクル開始）*/
  }

  /* 背景は固定のゴールドグリッター */
  body{
    margin:0;
    min-height:100svh;
    display:grid;
    place-items:center;
    background:#000 url("images/Gold_Glitter.jpg") center/cover fixed no-repeat;
    overflow:hidden;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;
  }

  /* カード本体（動画の器） */
  .card{
    width:min(88vw, 480px);
    aspect-ratio: 2.5 / 3.5;    /* トレカ比率 */
    position:relative;
    overflow:hidden;
    background:#000;

    /* 初期：画面下 & 少し奥、Z回転で“ねじり” */
    transform:
      translateY(120%)
      scale(.85)
      perspective(1200px)
      rotateX(10deg)
      rotateZ(-8deg);
    filter: drop-shadow(0 60px 70px rgba(0,0,0,.55));

    animation:
      enterTwist var(--enter-dur) cubic-bezier(.18,.8,.22,1) forwards,
      ringPulse 520ms ease-out var(--impact-at) both;
  }

  /* 映像（無音自動再生・ループ・iOSインライン） */
  video{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  /* 着地フラッシュ（短く上品に） */
  .card::after{
    content:"";
    position:absolute; inset:-10%;
    background: radial-gradient(ellipse at center, rgba(255,255,255,.38), rgba(255,255,255,0) 60%);
    opacity:0; mix-blend-mode:screen; pointer-events:none;
    animation: impactFlash 240ms ease-out var(--impact-at) both;
  }

  /* 金粉パーティクル（カードの上に出す） */
  .particles{
    position:absolute; inset:0; pointer-events:none; overflow:visible;
  }
  .particles span{
    position:absolute; left:50%; top:52%;
    width:var(--s,6px); height:var(--s,6px); border-radius:50%;
    transform:translate(-50%,-50%);
    opacity:0;
    background:
      radial-gradient(circle at 40% 40%, #ffe9a6 0 40%, #ffc84d 55%, rgba(255,184,0,.85) 70%, transparent 72%);
    filter: drop-shadow(0 0 6px rgba(255,215,130,.95));
    animation: sparkle var(--d,900ms) ease-out var(--impact-at) both;
  }

  /* ------- Animations ------- */

  /* 下から“ねじり”つつせり上がり → 大きめに着地 → 収束 */
  @keyframes enterTwist{
    0%{
      transform:
        translateY(120%) scale(.85)
        perspective(1200px) rotateX(10deg) rotateZ(-8deg);
      filter: drop-shadow(0 70px 80px rgba(0,0,0,.58));
    }
    70%{
      transform:
        translateY(0%) scale(1.08)
        perspective(1200px) rotateX(4deg) rotateZ(2deg);
      filter: drop-shadow(0 34px 44px rgba(0,0,0,.52));
    }
    100%{
      transform:
        translateY(0%) scale(1.000)
        perspective(1200px) rotateX(0deg) rotateZ(0deg);
      filter: drop-shadow(0 18px 28px rgba(0,0,0,.45));
    }
  }

  /* 着地の白フラッシュ */
  @keyframes impactFlash{
    0%   {opacity:0;}
    25%  {opacity:.55; transform: scale(1.03);}
    100% {opacity:0;   transform: scale(1);}
  }

  /* 影のパルス（圧） */
  @keyframes ringPulse{
    0%   { box-shadow:0 0 0 0 rgba(255,255,255,.18), 0 18px 28px rgba(0,0,0,.45); }
    60%  { box-shadow:0 0 0 28px rgba(255,255,255,0), 0 26px 40px rgba(0,0,0,.50); }
    100% { box-shadow:0 0 0 40px rgba(255,255,255,0), 0 18px 28px rgba(0,0,0,.45); }
  }

  /* 金粉が四方へ弾けて落ちる */
  @keyframes sparkle{
    0%   { opacity:0; transform:translate(-50%,-50%) translate(0,0) scale(.7) rotate(0deg); }
    12%  { opacity:1; }
    70%  { opacity:1; }
    100% {
      opacity:0;
      transform:
        translate(-50%,-50%)
        translate(var(--tx,0), var(--ty, -120px))
        scale(.85)
        rotate(180deg);
      filter: drop-shadow(0 0 2px rgba(255,215,130,.6));
    }
  }

  /* 低モーション配慮 */
  @media (prefers-reduced-motion: reduce){
    .card{ animation:none; transform:none; }
    .card::after{ animation:none; }
    .particles span{ animation:none; opacity:0; }
  }
</style>
</head>
<body>

  <div class="card" aria-label="Motion Trading Card">
    <video
      src="kannagi.MP4"
      autoplay
      muted
      loop
      playsinline
      preload="auto"
    ></video>

    <!-- 金粉パーティクル（数値は自由に増減OK） -->
    <div class="particles">
      <!--                 X移動     Y移動      duration   size -->
      <span style="--tx:-160px; --ty:-140px; --d:900ms;  --s:7px;"></span>
      <span style="--tx:-120px; --ty:-180px; --d:980ms;  --s:6px;"></span>
      <span style="--tx:-80px;  --ty:-110px; --d:820ms;  --s:5px;"></span>
      <span style="--tx:-40px;  --ty:-160px; --d:880ms;  --s:6px;"></span>
      <span style="--tx:-10px;  --ty:-200px; --d:1020ms; --s:7px;"></span>

      <span style="--tx:  20px; --ty:-150px; --d:860ms;  --s:5px;"></span>
      <span style="--tx:  60px; --ty:-170px; --d:930ms;  --s:6px;"></span>
      <span style="--tx: 100px; --ty:-120px; --d:880ms;  --s:5px;"></span>
      <span style="--tx: 140px; --ty:-190px; --d:990ms;  --s:7px;"></span>
      <span style="--tx: 180px; --ty:-140px; --d:940ms;  --s:6px;"></span>

      <span style="--tx:-150px; --ty:-80px;  --d:820ms;  --s:4px;"></span>
      <span style="--tx:-110px; --ty:-60px;  --d:780ms;  --s:4px;"></span>
      <span style="--tx: -70px; --ty:-90px;  --d:820ms;  --s:5px;"></span>
      <span style="--tx:  70px; --ty:-80px;  --d:800ms;  --s:4px;"></span>
      <span style="--tx: 110px; --ty:-60px;  --d:760ms;  --s:4px;"></span>
      <span style="--tx: 150px; --ty:-90px;  --d:840ms;  --s:5px;"></span>

      <span style="--tx:-40px;  --ty:-240px; --d:1100ms; --s:8px;"></span>
      <span style="--tx:  20px; --ty:-230px; --d:1080ms; --s:7px;"></span>
      <span style="--tx:  80px; --ty:-220px; --d:1040ms; --s:8px;"></span>
      <span style="--tx:-90px;  --ty:-220px; --d:1040ms; --s:7px;"></span>
    </div>
  </div>

</body>
</html>
